Estancia Carnes Finas - Sistema Completo de GestiÃ³n de Feedlot

Sistema automatizado profesional de gestiÃ³n de engorde de ganado desarrollado en Python, 
implementando patrones de diseÃ±o avanzados, programaciÃ³n concurrente y mÃ³dulos empresariales.

##  DescripciÃ³n

**Estancia Carnes Finas v2.0** es un sistema completo que simula la gestiÃ³n inteligente de un feedlot,
ahora con mÃ³dulos avanzados similares a sistemas empresariales:

###  Funcionalidades Principales

-  **Monitoreo continuo** de peso y temperatura
-  **DetecciÃ³n automÃ¡tica** de alertas de salud
-  **Estrategias de alimentaciÃ³n** configurables
-  **Reportes automÃ¡ticos** diarios
-  **Persistencia de datos** (guardar/cargar estado)
-  **Sistema de logging** completo
-  **Observador de salud** con acciones automÃ¡ticas
-  **MÃ³dulo veterinario** profesional

## Novedades VersiÃ³n 2.0

### Persistencia de Datos
- Guardar estado completo del sistema (`.dat`)
- Cargar simulaciones anteriores
- Exportar reportes en CSV
- Backups automÃ¡ticos
- Exportar histÃ³rico de animales

### Sistema de Logging
- BitÃ¡cora completa de eventos
- Niveles: DEBUG, INFO, WARNING, ERROR, CRITICO, ALERTA
- Trazabilidad total del sistema
- Archivos `.log` por sesiÃ³n

### Observador de Salud Avanzado
- Monitoreo mÃ©dico continuo
- Acciones automÃ¡ticas ante alertas
- Registro de tratamientos
- GestiÃ³n de animales en tratamiento
- Informes veterinarios

### MÃ³dulo Veterinario
- RevisiÃ³n completa de animales
- DiagnÃ³sticos detallados
- AplicaciÃ³n de tratamientos
- Alta mÃ©dica
- Historial de atenciones

## Arquitectura del Sistema

### Patrones de DiseÃ±o

| **Singleton** | Sistema Ãºnico de feedlot | `servicios/feedlot_service.py` |
| **Factory** | CreaciÃ³n de animales y sensores | `patrones/factory.py` |
| **Observer** | Sistema de alertas (2 observadores) | `patrones/observer.py`, `patrones/salud_observer.py` |
| **Strategy** | Estrategias de alimentaciÃ³n | `estrategias/` |

### ProgramaciÃ³n Concurrente

-  **Sensores** : Hilos independientes para peso y temperatura
-  **Raciones** : AplicaciÃ³n automÃ¡tica de estrategias
-  **Reportes** : GeneraciÃ³n periÃ³dica de informes
- **Thread-safe** : SincronizaciÃ³n con locks

##  Estructura del Proyecto

```
python_feedlot/
â”‚
â”œâ”€â”€ entidades/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ animal.py              # Clase Animal
â”‚   â”œâ”€â”€ corral.py              # GestiÃ³n de corrales
â”‚   â”œâ”€â”€ sensor.py              # Sensores concurrentes
â”‚   â””â”€â”€ veterinario.py         #  Profesional veterinario
â”‚
â”œâ”€â”€ servicios/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ feedlot_service.py     # Sistema principal (Singleton)
â”‚   â”œâ”€â”€ racion_service.py      # Servicio de raciones
â”‚   â”œâ”€â”€ reporte_service.py     # GeneraciÃ³n de reportes
â”‚   â”œâ”€â”€ persistencia_service.py # Persistencia de datos
â”‚   â””â”€â”€ log_service.py          # Sistema de logging
â”‚
â”œâ”€â”€ estrategias/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ estrategia_racion.py   # Interfaz Strategy
â”‚   â”œâ”€â”€ racion_normal.py       # +1.0 kg/dÃ­a
â”‚   â”œâ”€â”€ racion_intensiva.py    # +2.0 kg/dÃ­a
â”‚   â””â”€â”€ racion_mantenimiento.py # +0.3 kg/dÃ­a
â”‚
â”œâ”€â”€ patrones/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ singleton.py           # Metaclase Singleton
â”‚   â”œâ”€â”€ factory.py             # Factory de objetos
â”‚   â”œâ”€â”€ observer.py            # Observer bÃ¡sico
â”‚   â””â”€â”€ salud_observer.py      # Observer de salud avanzado
â”‚
â”œâ”€â”€ reportes/                  # Reportes .txt generados
â”œâ”€â”€ reportes_csv/              #  Exportaciones CSV
â”œâ”€â”€ data/                      #  Estados guardados (.dat)
â”‚   â””â”€â”€ backups/               #  Backups automÃ¡ticos
â”œâ”€â”€ logs/                      #  Archivos de log
â”‚
â”œâ”€â”€ main.py                    # Programa principal
â””â”€â”€ README.md                  # Este archivo


### EjecuciÃ³n
python3 main.py

**MenÃº Principal:**

1.  SimulaciÃ³n rÃ¡pida (30s)
2.  SimulaciÃ³n estÃ¡ndar (60s)
3. SimulaciÃ³n extendida (120s)
4. ConfiguraciÃ³n personalizada
5. Continuar simulaciÃ³n anterior     
6. Ver archivos guardados           
7. InformaciÃ³n de patrones
8. Salir

# SimulaciÃ³n de 60 segundos
python3 main.py 60

# SimulaciÃ³n de 120 segundos
python3 main.py 120


## Ejemplo de Salida

======================================================================
ğŸ„          ESTANCIA CARNES FINAS          ğŸ„
    Sistema Inteligente de GestiÃ³n de Feedlot
======================================================================
UbicaciÃ³n: Mendoza, Argentina
Desarrollado por: Guadalupe YaÃ±ez
Calidad Premium en Engorde de Ganado
VersiÃ³n 2.0 - Con mÃ³dulos avanzados
======================================================================

PATRONES DE DISEÃ‘O:
----------------------------------------------------------------------
âœ“ Singleton: FeedlotSystem (instancia Ãºnica)
âœ“ Factory: AnimalFactory (creaciÃ³n automÃ¡tica)
âœ“ Observer: SaludObserver + ObservadorAlerta (notificaciones)
âœ“ Strategy: Raciones (Normal, Intensiva, Mantenimiento)
----------------------------------------------------------------------
MÃ“DULOS AVANZADOS:
----------------------------------------------------------------------
âœ“ Persistencia: Guardar/Cargar estado (.dat)
âœ“ Logging: BitÃ¡cora completa de eventos
âœ“ Salud: Observador mÃ©dico con acciones automÃ¡ticas
âœ“ Veterinario: Profesional con diagnÃ³sticos
----------------------------------------------------------------------

Inicializando servicios avanzados...
Carpeta 'data/' creada
Servicio de Persistencia configurado
Servicio de Log configurado: logs/feedlot_20250102_143022.log

CONFIGURANDO FEEDLOT...
----------------------------------------------------------------------
[FACTORY] âœ“ Creado Ternero #1 (peso inicial: 180.0 kg)
...
Observador de Salud activado
Veterinario Dra. MarÃ­a GonzÃ¡lez (Mat. MP-8745) incorporado al equipo

[SensorPeso] Animal #1 (Ternero) â†’ +1.23 kg (Total: 181.23 kg)

======================================================================
ALERTA [FIEBRE] - 14:30:45
Animal: #2 (Novillo)
Mensaje: Fiebre detectada en Animal #2: 39.7Â°C
Estado: Peso 281.5 kg | Temp 39.7Â°C | Salud: Enfermo - Fiebre
======================================================================

 [SALUD] Protocolo de fiebre activado para Animal #2
Separando Animal #2 (Novillo) del lote principal
Administrando antipirÃ©tico
Reforzando hidrataciÃ³n

[VETERINARIO] Ronda mÃ©dica...
[VET. Dra. MarÃ­a GonzÃ¡lez] Revisando Animal #2 (Novillo)
DiagnÃ³stico: Alerta - Fiebre moderada
Temperatura: 39.7Â°C - ELEVADA
Recomendaciones:
  â€¢ Administrar antipirÃ©tico
  â€¢ Monitoreo cada 4 horas

Creando backup automÃ¡tico...
[PERSISTENCIA] âœ“ Estado guardado en: data/backups/backup_20250102_143522.dat

REPORTE DIARIO - DÃA 1
======================================================================
...

Guardando estado final...
[PERSISTENCIA] âœ“ Estado guardado en: data/feedlot_20250102_143800.dat
[PERSISTENCIA] âœ“ Reporte CSV exportado: reportes_csv/feedlot_2025-01-02.csv
Log finalizado: logs/feedlot_20250102_143022.log

======================================================================
SIMULACIÃ“N FINALIZADA
======================================================================
Archivos generados:
   â€¢ Reportes: ./reportes/
   â€¢ CSV: ./reportes_csv/
   â€¢ Estados: ./data/
   â€¢ Logs: ./logs/
======================================================================


## CaracterÃ­sticas Avanzadas

### Persistencia de Datos

# En main.py - OpciÃ³n 5: Continuar simulaciÃ³n anterior
ejecutar_simulacion(60, continuar=True)

**Archivos generados:**
- `data/feedlot_YYYYMMDD_HHMMSS.dat` - Estado completo
- `data/backups/backup_*.dat` - Backups automÃ¡ticos
- `reportes_csv/feedlot_YYYY-MM-DD.csv` - Datos en CSV
- `reportes_csv/historico_*.csv` - HistÃ³rico de lecturas

### Sistema de Logging

Cada sesiÃ³n genera un archivo `.log` con:
- `[INFO]` - Eventos informativos
- `[DEBUG]` - Detalles de depuraciÃ³n
- `[WARNING]` - Advertencias
- `[ERROR]` - Errores
- `[ALERTA]` - Alertas del sistema
- `[OK]` - Operaciones exitosas
- `[PERSISTENCIA]` - Operaciones de guardado

### Observador de Salud

Toma acciones automÃ¡ticas:
- **Fiebre (â‰¥39.5Â°C)**: SeparaciÃ³n, antipirÃ©tico, hidrataciÃ³n
- **Hipotermia (<37Â°C)**: Abrigo, alimento calÃ³rico
- **Bajo rendimiento**: RevisiÃ³n nutricional

### MÃ³dulo Veterinario

Funcionalidades:
- `revisar_animal()` - DiagnÃ³stico completo
- `aplicar_tratamiento()` - Tratamientos disponibles
- `dar_alta()` - Alta mÃ©dica
- `generar_informe_medico()` - Informe detallado

**Tratamientos disponibles:**
- AntipirÃ©tico
- AntibiÃ³tico
- Antiparasitario
- Complejo vitamÃ­nico

## MÃ©tricas del Sistema

### Indicadores Monitoreados
- **Peso promedio** y total
- **Ganancia Diaria Promedio (GDP)** por animal
- **Temperatura** corporal
- **Estado de salud** (5 estados posibles)
- **Alertas** por tipo y animal
- **Tratamientos** activos
- **Rendimiento** por estrategia de alimentaciÃ³n

### Reportes Generados
1. **Reportes diarios** (.txt) - Cada 15 segundos simulados
2. **Reporte final** (.txt) - Al terminar
3. **ExportaciÃ³n CSV** - Datos tabulados
4. **HistÃ³rico CSV** - Serie temporal completa
5. **Logs** - BitÃ¡cora de eventos
6. **Informe veterinario** - AnÃ¡lisis de salud

## ConfiguraciÃ³n Avanzada

### Modificar Intervalos

```python
# En main.py -> configurar_feedlot()
animal, sensor_peso, sensor_temp = AnimalFactory.crear_animal_completo(
    id_animal, tipo, peso,
    intervalo_peso=5.0,  # Cambiar intervalo de peso
    intervalo_temp=3.0   # Cambiar intervalo de temperatura
)
```

### Crear Nueva Estrategia

```python
# En estrategias/racion_personalizada.py
from estrategias.estrategia_racion import EstrategiaRacion

class RacionPersonalizada(EstrategiaRacion):
    def aplicar_racion(self, animal) -> float:
        incremento = 1.5  # kg/dÃ­a
        animal.actualizar_peso(incremento)
        return incremento
    
    def obtener_nombre(self) -> str:
        return "RaciÃ³n Personalizada"
```

### Agregar Nuevo Tratamiento

```python
# En entidades/veterinario.py -> aplicar_tratamiento()
tratamientos_disponibles = {
    'nuevo_tratamiento': {
        'nombre': 'Nombre del tratamiento',
        'indicacion': 'Para quÃ© se usa',
        'dosis': 'Dosis recomendada'
    }
}
```

## Historias de Usuario

- **US-001**: Registro de animales y corrales
- **US-002**: SimulaciÃ³n de sensores
- **US-003**: Alertas automÃ¡ticas
- **US-004**: Estrategias de alimentaciÃ³n
- **US-005**: Reportes automÃ¡ticos
- **US-006**: Persistencia de datos â† **NUEVO**
- **US-007**: Sistema de logging â† **NUEVO**
- **US-008**: Acciones automÃ¡ticas de salud â† **NUEVO**
- **US-009**: AtenciÃ³n veterinaria â† **NUEVO**

## Autor

**Guadalupe YaÃ±ez**
- Proyecto acadÃ©mico - POO Avanzada
- Mendoza, Argentina
- DiseÃ±o de Sistemas - 2025

## Licencia

Este proyecto es de cÃ³digo abierto bajo licencia MIT.

## Agradecimientos

- Inspirado en sistemas reales de gestiÃ³n ganadera
- Basado en arquitecturas empresariales profesionales
- TecnologÃ­as: Python 3.12, Threading, OOP, Design Patterns

## Roadmap Futuro

- [ ] Interfaz grÃ¡fica (GUI) con tkinter/PyQt
- [ ] Base de datos SQL para persistencia avanzada
- [ ] API REST para integraciÃ³n externa
- [ ] Dashboard web en tiempo real
- [ ] Machine Learning para predicciones
- [ ] IntegraciÃ³n con sensores IoT reales
- [ ] App mÃ³vil para monitoreo remoto
- [ ] Sistema de usuarios y roles

## DocumentaciÃ³n Adicional

### Archivos de ConfiguraciÃ³n

Todas las configuraciones estÃ¡n en constantes dentro de los archivos:
- Intervalos de sensores: `main.py`
- Pesos iniciales por tipo: `patrones/factory.py`
- Costos de raciones: archivos en `estrategias/`
- Tratamientos disponibles: `entidades/veterinario.py`

### Estructura de Datos

**Estado guardado** (.dat):
```python
{
    'animales': Dict[int, Animal],
    'corrales': Dict[int, Corral],
    'dia_actual': int,
    'fecha_inicio': datetime,
    'alertas': List[Dict],
    'timestamp_guardado': datetime
}
```

**Registro de log**:
```
[HH:MM:SS.mmm] [NIVEL] Mensaje
```

**Â¡Gracias por usar Estancia Carnes Finas v2.0!** 
